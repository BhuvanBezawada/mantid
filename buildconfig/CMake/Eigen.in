cmake_minimum_required ( VERSION 3.5 )
include( ExternalProject )

ExternalProject_Add(eigen
  GIT_REPOSITORY https://github.com/eigenteam/eigen-git-mirror.git
  GIT_TAG "@eigen_version@"
  SOURCE_DIR ${CMAKE_CURRENT_BINARY_DIR}/extern-eigen/source
  INSTALL_DIR ${CMAKE_CURRENT_BINARY_DIR}/extern-eigen/install
  PATCH_COMMAND     "@GIT_EXECUTABLE@" reset --hard @eigen_version@
            COMMAND "@GIT_EXECUTABLE@" apply --whitespace fix "@CMAKE_SOURCE_DIR@/buildconfig/CMake/eigen_macos.patch"
  CMAKE_CACHE_ARGS
    -DCMAKE_BUILD_TYPE:STRING=Release
    -DCMAKE_VERBOSE_MAKEFILE:BOOL=OFF
    -DCMAKE_INSTALL_PREFIX:STRING=${CMAKE_CURRENT_BINARY_DIR}/extern-eigen/install
)
